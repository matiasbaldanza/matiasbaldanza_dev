---
title: "Trabajar con la línea de comandos en Node.js"
publishedAt: "2022-08-15"
summary: "Aprende a crear y trabajar con aplicaciones de línea de comandos en Node.js utilizando el módulo nativo process y la biblioteca commander para crear interfaces de línea de comandos intuitivas y potentes."
category: "cli"
lang: "es"
---

Crear aplicaciones de línea de comandos (CLI) con Node.js es una excelente manera de aprovechar la potencia de JavaScript en un entorno de servidor. A continuación, te mostramos cómo trabajar con la línea de comandos en Node.js utilizando el módulo nativo `process` y la biblioteca `commander`.

## Acceder a los argumentos de línea de comandos:

Node.js proporciona el módulo nativo process para trabajar con argumentos de línea de comandos. La propiedad argv de process contiene un array con los argumentos de la línea de comandos.

```javascript
const args = process.argv.slice(2);
console.log(args);
```

## Instalar la biblioteca commander:

Si bien puedes trabajar con argumentos de línea de comandos directamente utilizando `process.argv`, la biblioteca `commander` hace que sea más fácil y legible crear aplicaciones CLI en Node.js. Instala commander en tu proyecto:

```bash
npm install commander
```

## Configurar commander y definir opciones:

Importa commander y configura las opciones y argumentos que deseas utilizar en tu aplicación CLI. A continuación, un ejemplo básico de cómo definir opciones y comandos utilizando `commander`.

```javascript
const { program } = require("commander");

program
  .version("1.0.0")
  .description("Mi aplicación CLI")
  .option("-n, --nombre <nombre>", "Especifica tu nombre")
  .option("-e, --edad <edad>", "Especifica tu edad");

program.parse(process.argv);

console.log(program.opts());
```

## Crear subcomandos:

`commander` también te permite crear subcomandos para organizar y agrupar funcionalidades en tu aplicación CLI.

```javascript
const { program } = require("commander");

program
  .command("saludar")
  .description("Saluda al usuario")
  .action(() => {
    console.log("¡Hola!");
  });

program.parse(process.argv);
```

## Manejar errores y ayuda:

`commander` incluye características útiles para manejar errores y mostrar información de ayuda a los usuarios. Si el usuario proporciona una opción o comando desconocido, `commander` mostrará automáticamente un mensaje de error y la información de ayuda.

```javascript
const { program } = require("commander");

program
  // ...
  .on("--help", () => {
    console.log("");
    console.log("Ejemplos de uso:");
    console.log(" $ mi-cli --nombre Juan --edad 30");
  });

program.parse(process.argv);
```

Al seguir estos pasos, podrás crear aplicaciones CLI eficientes y fáciles de usar en Node.js. Utilizar el módulo nativo `process` y la biblioteca `commander` te permitirá desarrollar interfaces de línea de comandos intuitivas y potentes para tus aplicaciones. Además, podrás aprovechar la gran cantidad de bibliotecas disponibles en el ecosistema de Node.js para mejorar y ampliar aún más la funcionalidad de tus aplicaciones de línea de comandos.

Es importante recordar que una buena aplicación CLI proporciona retroalimentación clara y útil a los usuarios. Asegúrate de incluir mensajes de ayuda detallados y manejar adecuadamente los errores para que los usuarios puedan aprovechar al máximo tu aplicación.

A medida que adquieras experiencia trabajando con aplicaciones de línea de comandos en Node.js, también podrás explorar otras bibliotecas populares, como yargs, inquirer, o chalk, para mejorar aún más la experiencia del usuario y facilitar el desarrollo.

En resumen, crear aplicaciones de línea de comandos en Node.js te permite utilizar la potencia y flexibilidad de JavaScript para desarrollar herramientas útiles y eficientes en un entorno de servidor. Al aprovechar módulos nativos como process y bibliotecas de terceros como commander, podrás desarrollar interfaces de línea de comandos intuitivas y potentes que satisfagan las necesidades de tus usuarios.
